(this["webpackJsonpreaktivate-weather"]=this["webpackJsonpreaktivate-weather"]||[]).push([[0],{24:function(e,t,a){e.exports=a(58)},29:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(29),a(2)),i=(a(36),a(4));a(37);function u(){return{type:"GET_LOCATION"}}function s(){return{type:"GET_CURRENT_WEATHER"}}function m(e){return{type:"CURRENT_WEATHER_SUCCESS",payload:e}}function p(e){return{type:"CITY_WEATHER_SUCCESS",payload:e}}var d=Object(l.b)((function(e){return{location:e.location,weather:e.weather.current}}),{getLocation:u,getCurrentWeather:s,currentWeatherSuccess:m})((function(e){var t,a,c,o=e.location,l=e.weather,u=e.getCurrentWeather,s=e.currentWeatherSuccess;return Object(n.useEffect)((function(){u()}),[o,u]),r.a.createElement("div",{className:"current-weather"},l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(l.weather[0].icon,"@2x.png"),alt:""}),r.a.createElement("h2",{className:"current__temperature"},Math.round(null===(t=l.main)||void 0===t?void 0:t.temp)," ",r.a.createElement("small",null,"\xb0C")),r.a.createElement("div",{className:"current__city"},"".concat(l.name,", ").concat(null===(a=l.sys)||void 0===a?void 0:a.country)),r.a.createElement("p",null,r.a.createElement("input",{type:"range",min:"-50",max:"50",value:null===(c=l.main)||void 0===c?void 0:c.temp,onChange:function(e){return t=e.target.value,void s(Object(i.a)({},l,{main:Object(i.a)({},l.main,{temp:t})}));var t}}))))})),E=a(23);a(38);var h=Object(l.b)((function(e){return{location:e.location,cityWeather:e.weather.city}}),{getLocation:u,getCityWeather:function(e){return{type:"GET_CITY_WEATHER",payload:e}}})((function(e){var t,a=e.cityWeather,c=Object(n.useState)(""),o=Object(E.a)(c,2),l=o[0],i=o[1];return r.a.createElement("div",{className:"city-weather"},r.a.createElement("div",{className:"city-weather__search"},r.a.createElement("input",{type:"search",onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{onClick:function(){return e.getCityWeather(l)}},"Search")),a&&r.a.createElement("div",{className:"city-weather__card"},r.a.createElement("img",{className:"city-weather__img",src:"https://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:""}),r.a.createElement("b",{className:"current__city"},"".concat(a.name,", ").concat(null===(t=a.sys)||void 0===t?void 0:t.country," "),r.a.createElement("i",null," ",a.weather[0].description)),r.a.createElement("div",null,r.a.createElement("span",{className:"current__temperature"},Math.round(10*a.main.temp)/10," ",r.a.createElement("small",null,"\xb0C")),r.a.createElement("span",null,"temperature from ".concat(Math.round(10*a.main.temp_min)/10," to ").concat(Math.round(10*a.main.temp_max)/10," \xb0\u0421, \n          wind ").concat(a.wind.speed," m/s. clouds ").concat(a.clouds.all," %, ").concat(a.main.pressure," hpa"))),r.a.createElement("div",null,"Geo coords [",a.coord.lat,", ",a.coord.lon,"]")))}));a(39);var f=Object(l.b)((function(e){return{location:e.location,weather:e.weather.current}}),{getLocation:u,getCurrentWeather:s})((function(e){var t=e.location;return r.a.createElement("div",{className:"location"},t?r.a.createElement("ul",null,r.a.createElement("li",null,"latitude: ",t.latitude),r.a.createElement("li",null,"longitude: ",t.longitude)):r.a.createElement("div",{className:"question"},r.a.createElement("p",null,"Do you allow to proceed your location?"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",null,"Decline"),r.a.createElement("button",{onClick:e.getLocation},"Allow"))))}));var v=Object(l.b)((function(e){return{color:e.weather.color}}))((function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header",style:{backgroundColor:e.color}},r.a.createElement(f,null),r.a.createElement(d,null),r.a.createElement(h,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(3),y=a(5),w=a.n(y),b=a(7);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOCATION":return e;case"LOCATION_SUCCESS":return{latitude:t.payload.coords.latitude,longitude:t.payload.coords.longitude,description:t.payload.description};default:return e}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_WEATHER":return e;case"CURRENT_WEATHER_SUCCESS":return Object(i.a)({},e,{current:t.payload,color:T(t.payload.main.temp)});case"GET_CITY_WEATHER":return e;case"CITY_WEATHER_SUCCESS":return Object(i.a)({},e,{city:t.payload});default:return e}}function T(e){return e<-10?"#00ffff":e>30?"#ff8c00":"#fff700"}var O=function(){return Object(g.c)({location:_,weather:C})},N=a(21),S=a(22),W=a.n(S),R=[N.a,function(e){return function(t){return function(){var a=Object(b.a)(w.a.mark((function a(n){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("GET_LOCATION"===n.type){a.next=3;break}return a.abrupt("return",t(n));case 3:!e.getState().location.latitude&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){return t({type:"LOCATION_SUCCESS",payload:e})}),(function(e){return console.log("Error occurred. Error code: "+e.code)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},function(e){return function(t){return function(){var a=Object(b.a)(w.a.mark((function a(n){var r,c,o,l,u,s,d;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n.type,c=n.payload,"WEATHER"===r.slice(-7)){a.next=3;break}return a.abrupt("return",t(n));case 3:if(!(o=e.getState()).location.latitude&&!c){a.next=27;break}a.t0=r,a.next="GET_CURRENT_WEATHER"===a.t0?8:"GET_CITY_WEATHER"===a.t0?11:15;break;case 8:return l={lat:o.location.latitude,lon:o.location.longitude},u=m,a.abrupt("break",16);case 11:return console.log("in",r),l={q:c},u=p,a.abrupt("break",16);case 15:console.log("wrong action type");case 16:return a.prev=16,a.next=19,W()({baseURL:"https://api.openweathermap.org/data/2.5/",url:"weather",params:Object(i.a)({},l,{appid:"142c1e9a1787ce68fb592fb786e93507",units:"metric"})});case 19:s=a.sent,d=s.data,t(u(d)),a.next=27;break;case 24:a.prev=24,a.t1=a.catch(16),404===a.t1.response.status&&console.dir("Wrong request");case 27:case"end":return a.stop()}}),a,null,[[16,24]])})));return function(e){return a.apply(this,arguments)}}()}}],A=g.d.apply(void 0,[g.a.apply(void 0,R)].concat([]));a.d(t,"store",(function(){return j}));var k,j=(k={},Object(g.e)(O(),k,A));o.a.render(r.a.createElement(l.a,{store:j},r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1c78cd38.chunk.js.map